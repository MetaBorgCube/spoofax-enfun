Module("lib/analysis-library-internal.generated",[Imports([Import("libstratego-lib"),Import("libstratego-parallel"),Import("lib/editor-common.generated"),Import("lib/analysis-library.generated"),Import("lib/index-library.generated")]),Signature([Constructors([OpDecl("Results",FunType([ConstType(SortNoArgs("AST")),ConstType(Sort("List",[SortNoArgs("Def")])),ConstType(Sort("List",[SortNoArgs("Use")])),ConstType(Sort("List",[SortNoArgs("DefData")])),ConstType(Sort("List",[SortNoArgs("Def")])),ConstType(Sort("List",[SortNoArgs("Def")])),ConstType(Sort("List",[SortNoArgs("File")]))],ConstType(SortNoArgs("Results")))),OpDecl("ParallelResults",FunType([ConstType(SortNoArgs("AST")),ConstType(SortNoArgs("AST")),ConstType(Sort("List",[SortNoArgs("Error")])),ConstType(Sort("List",[SortNoArgs("Warning")])),ConstType(Sort("List",[SortNoArgs("Note")])),ConstType(Sort("List",[SortNoArgs("File")]))],ConstType(SortNoArgs("ParallelResults")))),OpDecl("Diff",ConstType(SortNoArgs("Namespace"))),OpDecl("ASTDiff",ConstType(SortNoArgs("Namespace"))),OpDecl("AST",ConstType(SortNoArgs("Namespace"))),OpDecl("AST",FunType([ConstType(Sort("List",[SortNoArgs("UriPart")])),ConstType(SortNoArgs("AST"))],ConstType(SortNoArgs("AST")))),OpDecl("Scope",FunType([ConstType(SortNoArgs("Term"))],ConstType(SortNoArgs("Anno"))))])]),Rules([RDefT("analyze-top-internal",[],[DefaultVarDec("phase"),DefaultVarDec("language"),DefaultVarDec("project-path"),DefaultVarDec("full-path")],Rule(Var("astFilePairs"),NoAnnoList(Op("Results",[Var("asts"),Var("defs"),Var("uses"),Var("data"),Var("added"),Var("removed"),Var("filesToAnalyze")])),[WithClause(Seq(CallT(SVar("index-setup"),[],[Var("language"),NoAnnoList(List([Var("project-path")])),Var("full-path")]),Assign(Var("revision"),RootApp(CallNoArgs(SVar("index-start-transaction")))))),WithClause(Seq(Assign(Var("oldElems"),App(Call(SVar("filter"),[CallNoArgs(SVar("index-diff-constructors"))]),App(CallNoArgs(SVar("index-get-all-in-file")),Var("full-path")))),BA(CallNoArgs(SVar("index-clear-file")),Var("full-path")))),WithClause(DynRuleScope([DynRuleScopeId("Index-UnresolvedSet")],Seq(Assign(Var("unresolvedSet"),RootApp(CallNoArgs(SVar("new-iset")))),Seq(GenDynRules([SetDynRule(DynRuleId(RDecNoArgs("Index-UnresolvedSet")),RuleNoCond(Wld,Var("unresolvedSet")))]),Seq(Assign(NoAnnoList(Tuple([Var("astFilePairs2"),Var("defsList")])),App(CallNoArgs(SVar("unzip")),App(Call(SVar("map"),[CallNoArgs(SVar("analyze-top-defs"))]),Var("astFilePairs")))),Seq(Assign(Var("defs"),App(CallNoArgs(SVar("concat")),Var("defsList"))),Seq(Assign(NoAnnoList(Tuple([Var("astFilePairs3"),Var("dataList")])),App(CallNoArgs(SVar("unzip")),App(Call(SVar("map"),[CallT(SVar("analyze-top-data"),[],[Var("language"),Var("full-path")])]),Var("astFilePairs2")))),Seq(Assign(Var("data"),App(CallNoArgs(SVar("concat")),Var("dataList"))),Seq(Assign(NoAnnoList(Tuple([Var("astFilePairs4"),Var("usesList")])),App(CallNoArgs(SVar("unzip")),App(Call(SVar("map"),[CallT(SVar("analyze-top-uses"),[],[Var("language"),Var("full-path")])]),Var("astFilePairs3")))),Seq(Assign(Var("uses"),App(CallNoArgs(SVar("concat")),Var("usesList"))),Assign(NoAnnoList(Tuple([Var("asts"),Wld])),App(CallNoArgs(SVar("unzip")),Var("astFilePairs4"))))))))))))),WithClause(CallNoArgs(SVar("index-end-transaction"))),WithClause(CondChoice(Seq(Assign(NoAnnoList(Op("Editor",[])),Var("phase")),Not(BA(CallNoArgs(SVar("is-test-file")),Var("full-path")))),Seq(Assign(Var("newElems"),App(CallNoArgs(SVar("conc")),NoAnnoList(Tuple([Var("defs"),App(Call(SVar("filter"),[CallNoArgs(SVar("index-diff-constructors"))]),Var("data"))])))),Seq(Assign(NoAnnoList(Tuple([Var("added"),Var("removed")])),App(CallNoArgs(SVar("analyze-diff")),NoAnnoList(Tuple([Var("oldElems"),Var("newElems")])))),Seq(Assign(Var("changed"),App(CallNoArgs(SVar("conc")),NoAnnoList(Tuple([Var("added"),Var("removed")])))),Call(SVar("index-transaction"),[Assign(Var("filesToAnalyze"),App(CallT(SVar("analyze-store-diff"),[],[Var("changed"),Var("revision")]),Var("astFilePairs4")))])))),Seq(Assign(NoAnnoList(Tuple([Var("added"),Var("removed")])),NoAnnoList(Tuple([NoAnnoList(List([])),NoAnnoList(List([]))]))),Assign(Var("filesToAnalyze"),NoAnnoList(List([])))))),WithClause(BA(Call(SVar("list-loop"),[CallT(SVar("analyze-top-store-ast"),[],[Var("full-path")])]),Var("astFilePairs4")))])),RDefNoArgs("analyze-top-defs",Rule(NoAnnoList(Tuple([Var("ast"),Var("file")])),NoAnnoList(Tuple([NoAnnoList(Tuple([Var("ast2"),Var("file")])),Var("defs")])),[WithClause(Seq(BA(CallNoArgs(SVar("index-set-current-file")),Var("file")),Seq(Assign(NoAnnoList(Tuple([NoAnnoList(Op("Some",[Var("ast2")])),Var("edefs")])),App(CallNoArgs(SVar("analyze-defs")),NoAnnoList(Op("Some",[Var("ast")])))),Seq(Assign(Var("defs"),App(Call(SVar("map"),[CallNoArgs(SVar("Snd"))]),Var("edefs"))),BA(CallT(SVar("index-add-all"),[],[Var("file")]),Var("defs"))))))])),RDefT("analyze-top-data",[],[DefaultVarDec("language"),DefaultVarDec("full-path")],Rule(NoAnnoList(Tuple([Var("ast"),Var("file")])),NoAnnoList(Tuple([NoAnnoList(Tuple([Var("ast2"),Var("file")])),Var("data2")])),[WithClause(Seq(BA(CallNoArgs(SVar("index-set-current-file")),Var("file")),DynRuleScope([DynRuleScopeId("Index-ReadSet")],Seq(Assign(Var("readSet"),RootApp(CallNoArgs(SVar("new-iset")))),Seq(GenDynRules([SetDynRule(DynRuleId(RDecNoArgs("Index-ReadSet")),RuleNoCond(Wld,Var("readSet")))]),Seq(Assign(Var("ast2"),App(Prim("\"SSL_EXT_clone_and_set_parents\"",[RootApp(Id)]),Var("ast"))),Seq(Assign(Var("data"),App(Call(SVar("origin-track-forced"),[CallNoArgs(SVar("analyze-tree-data"))]),Var("ast2"))),Seq(Assign(NoAnnoList(Tuple([Var("data2"),Wld])),App(CallNoArgs(SVar("analyze-uses")),Var("data"))),Seq(BA(CallT(SVar("index-add-all"),[],[Var("file")]),Var("data2")),IfThen(Not(CallT(SVar("is-test-input"),[],[Var("language"),Var("full-path")])),BA(CallT(SVar("index-add-all"),[],[Var("file")]),App(CallNoArgs(SVar("iset-elements")),Var("readSet")))))))))))))])),RDefT("analyze-top-uses",[],[DefaultVarDec("language"),DefaultVarDec("full-path")],Rule(NoAnnoList(Tuple([Var("ast"),Var("file")])),NoAnnoList(Tuple([NoAnnoList(Tuple([Var("ast3"),Var("file")])),Var("uses")])),[WithClause(Seq(BA(CallNoArgs(SVar("index-set-current-file")),Var("file")),DynRuleScope([DynRuleScopeId("Index-ReadSet")],Seq(Assign(Var("readSet"),RootApp(CallNoArgs(SVar("new-iset")))),Seq(GenDynRules([SetDynRule(DynRuleId(RDecNoArgs("Index-ReadSet")),RuleNoCond(Wld,Var("readSet")))]),Seq(Assign(NoAnnoList(Tuple([Var("ast2"),Var("uses")])),App(CallNoArgs(SVar("analyze-uses")),Var("ast"))),Seq(BA(CallT(SVar("index-add-all"),[],[Var("file")]),Var("uses")),Seq(Assign(Var("ast3"),App(Prim("\"SSL_EXT_clone_and_set_parents\"",[RootApp(Id)]),Var("ast2"))),IfThen(Not(CallT(SVar("is-test-input"),[],[Var("language"),Var("full-path")])),BA(CallT(SVar("index-add-all"),[],[Var("file")]),App(CallNoArgs(SVar("iset-elements")),Var("readSet"))))))))))))])),RDefT("analyze-top-store-ast",[],[DefaultVarDec("full-path")],Rule(NoAnnoList(Tuple([Var("ast"),NoAnnoList(Tuple([Wld,Var("subfile")]))])),RootApp(Id),BA(CallT(SVar("index-add"),[],[Var("full-path")]),NoAnnoList(Op("AST",[Var("subfile"),Var("ast")]))))),RDefT("analyze-top-store-ast",[],[DefaultVarDec("full-path")],Rule(NoAnnoList(Tuple([Var("ast"),Var("file")])),RootApp(Id),Seq(BA(CallNoArgs(SVar("is-string")),Var("file")),BA(CallT(SVar("index-add"),[],[Var("full-path")]),NoAnnoList(Op("AST",[NoAnnoList(List([])),Var("ast")])))))),RDefNoArgs("analyze-defs",Rule(Var("ast"),NoAnnoList(Tuple([App(CallT(SVar("analyze-defs"),[],[NoAnnoList(List([])),Var("set"),NoAnnoList(Op("Anon",[])),NoAnnoList(Op("Anon",[]))]),Var("ast")),App(CallNoArgs(SVar("iset-elements")),Var("set"))])),Assign(Var("set"),RootApp(CallNoArgs(SVar("new-iset")))))),RDefT("analyze-defs",[],[DefaultVarDec("paths"),DefaultVarDec("defs"),DefaultVarDec("head-scope"),DefaultVarDec("head-scope-ns")],Rule(AnnoList(Var("ast"),[NoAnnoList(Op("Scope",[NoAnnoList(ListTail([Var("namespace"),Var("name")],Var("path")))]))]),Var("ast'"),Seq(Assign(Var("paths'"),App(CallT(SVar("update-index-paths"),[],[NoAnnoList(List([NoAnnoList(Tuple([Var("namespace"),Var("path")]))]))]),Var("paths"))),Assign(Var("ast'"),App(Seq(CallNoArgs(SVar("rm-annotations")),CallT(SVar("analyze-defs"),[],[Var("paths'"),Var("defs"),NoAnnoList(Op("Anon",[])),NoAnnoList(Op("Anon",[]))])),Var("ast")))))),RDefT("analyze-defs",[],[DefaultVarDec("paths"),DefaultVarDec("defs"),DefaultVarDec("head-scope"),DefaultVarDec("head-scope-ns")],Rule(Var("ast"),Var("ast'"),[WhereClause(BA(Not(CallNoArgs(SVar("has-annos"))),Var("ast"))),WithClause(Seq(CondChoice(Assign(NoAnnoList(Tuple([Var("namespace"),Var("path")])),App(CallNoArgs(SVar("nam-get-definition")),Var("ast"))),Seq(Assign(Var("definition"),App(CallT(SVar("nam-get-def"),[],[Var("paths"),Var("namespace")]),Var("path"))),Seq(Assign(NoAnnoList(Op("Def",[Var("def-path")])),Var("definition")),Seq(Assign(Var("head-scope-ns'"),Var("namespace")),Seq(Assign(Var("head-scope'"),App(CallNoArgs(SVar("Hd")),Var("path"))),Seq(Assign(NoAnnoList(Explode(Var("f"),Var("children"))),App(Call(SVar("try"),[CallT(SVar("nam-annotate-scopes"),[],[Var("def-path")])]),Var("ast"))),BA(CallT(SVar("iset-add"),[],[NoAnnoList(Tuple([RootApp(CallNoArgs(SVar("new"))),Var("definition")]))]),Var("defs"))))))),Seq(Assign(Var("def-path"),NoAnnoList(Op("INTERNAL_ERROR",[]))),Seq(Assign(Var("head-scope-ns'"),Var("head-scope-ns")),Seq(Assign(Var("head-scope'"),Var("head-scope")),Assign(NoAnnoList(Explode(Var("f"),Var("children"))),Var("ast")))))),Seq(CondChoice(Assign(Var("scope-types"),App(CallNoArgs(SVar("nam-get-scope-types")),Var("ast"))),Seq(Assign(Var("unique"),NoAnnoList(Op("Anon",[RootApp(CallNoArgs(SVar("new")))]))),Seq(Assign(Var("updates"),App(Call(SVar("map"),[CallT(SVar("construct-index-path"),[],[Var("paths"),Var("head-scope'"),Var("head-scope-ns'"),Var("unique"),Var("ast")])]),Var("scope-types"))),Seq(Assign(Var("paths'"),App(CallT(SVar("update-index-paths"),[],[Var("updates")]),Var("paths"))),Seq(Assign(Var("head-scope-ns''"),NoAnnoList(Op("Anon",[]))),Assign(Var("head-scope''"),NoAnnoList(Op("Anon",[]))))))),Seq(Assign(Var("paths'"),Var("paths")),Seq(Assign(Var("head-scope-ns''"),Var("head-scope-ns'")),Assign(Var("head-scope''"),Var("head-scope'"))))),Seq(Assign(Var("children'"),App(Call(SVar("origin-track-forced"),[CallT(SVar("analyze-child-defs"),[],[Var("paths'"),Var("defs"),Var("head-scope''"),Var("head-scope-ns''")])]),Var("children"))),Assign(Var("ast'"),App(Call(SVar("try"),[CallT(SVar("nam-annotate-names"),[],[Var("paths'"),Var("def-path")])]),NoAnnoList(Explode(Var("f"),Var("children'")))))))))])),RDefT("analyze-child-defs",[],[DefaultVarDec("paths"),DefaultVarDec("defs"),DefaultVarDec("head-scope"),DefaultVarDec("head-scope-ns")],RuleNoCond(NoAnnoList(List([])),NoAnnoList(List([])))),RDefT("analyze-child-defs",[],[DefaultVarDec("paths"),DefaultVarDec("defs"),DefaultVarDec("head-scope"),DefaultVarDec("head-scope-ns")],Rule(NoAnnoList(ListTail([Var("d")],Var("ds"))),NoAnnoList(ListTail([Var("d'")],Var("ds'"))),Seq(Assign(Var("d'"),App(CallT(SVar("analyze-defs"),[],[Var("paths"),Var("defs"),Var("head-scope"),Var("head-scope-ns")]),Var("d"))),CondChoice(BA(CallNoArgs(SVar("nam-ordered-def")),Var("d")),Seq(Assign(NoAnnoList(ListTail([Var("namespace"),Var("name")],Var("path"))),App(Seq(CallNoArgs(SVar("nam-get-definition-key")),CallNoArgs(SVar("index-uri"))),Var("d'"))),Seq(Assign(Var("paths'"),App(CallT(SVar("update-index-paths"),[],[NoAnnoList(List([NoAnnoList(Tuple([Var("namespace"),Var("path")]))]))]),Var("paths"))),Assign(Var("ds'"),App(CallT(SVar("analyze-child-defs"),[],[Var("paths'"),Var("defs"),NoAnnoList(Op("Anon",[])),NoAnnoList(Op("Anon",[]))]),Var("ds"))))),Assign(Var("ds'"),App(CallT(SVar("analyze-child-defs"),[],[Var("paths"),Var("defs"),Var("head-scope"),Var("head-scope-ns")]),Var("ds"))))))),RDefT("construct-index-path",[],[DefaultVarDec("paths"),DefaultVarDec("head-scope"),DefaultVarDec("head-scope-ns"),DefaultVarDec("unique"),DefaultVarDec("ast")],Rule(Var("scope-type"),NoAnnoList(Tuple([Var("scope-type"),Var("path''")])),Seq(CondChoice(AM(Build(Var("head-scope-ns")),NoAnnoList(Op("Anon",[]))),Seq(Assign(Var("path"),App(CallNoArgs(SVar("lookup-index-path")),NoAnnoList(Tuple([Var("scope-type"),Var("paths")])))),Assign(Var("path'"),App(CallT(SVar("index-do-adjust-path"),[],[Var("scope-type"),Var("path"),NoAnnoList(Op("Anon",[RootApp(CallNoArgs(SVar("new")))]))]),Var("ast")))),Seq(Assign(Var("path"),App(CallNoArgs(SVar("lookup-index-path")),NoAnnoList(Tuple([Var("head-scope-ns"),Var("paths")])))),Assign(Var("path'"),App(CallT(SVar("index-do-adjust-path"),[],[Var("scope-type"),Var("path"),Var("head-scope")]),Var("ast"))))),CondChoice(Fail,Assign(Var("path''"),App(CallT(SVar("index-do-adjust-path"),[],[Var("scope-type"),Var("path'"),Var("unique")]),Var("ast"))),Assign(Var("path''"),Var("path'")))))),SDefT("update-index-paths",[],[DefaultVarDec("updates")],Seq(Call(SVar("remove-all"),[Seq(Match(NoAnnoList(Tuple([RootApp(Id),Wld]))),Seq(Build(NoAnnoList(Tuple([RootApp(Id),Var("updates")]))),CallNoArgs(SVar("lookup'"))))]),Call(SVar("at-end"),[Build(Var("updates"))]))),SDefNoArgs("lookup-index-path",LChoice(CallNoArgs(SVar("lookup'")),Build(NoAnnoList(List([]))))),SDefT("index-do-adjust-path",[],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("scope")],LChoice(CallT(SVar("adjust-index-path"),[CallT(SVar("origin-equal"),[],[Var("scope")])],[Var("namespace"),Var("path")]),Build(NoAnnoList(ListTail([Var("scope")],Var("path")))))),RDefNoArgs("analyze-uses",Rule(Var("ast"),NoAnnoList(Tuple([Var("ast''"),Var("uses'")])),[WithClause(Seq(Assign(Var("analyzed"),App(All(CallNoArgs(SVar("analyze-uses"))),Var("ast"))),Seq(Assign(NoAnnoList(Tuple([Var("ast'"),Var("uses")])),App(CallNoArgs(SVar("unzip-analyzed")),Var("analyzed"))),CondChoice(AM(Build(Var("ast'")),AnnoList(Wld,[As(Var("unresolved"),NoAnnoList(ListTail([NoAnnoList(Op("Unresolved",[Var("namespace")])),Var("x")],Var("path"))))])),CondChoice(Assign(NoAnnoList(Op("Def",[Var("def-uri")])),App(CallNoArgs(SVar("index-lookup")),Var("ast'"))),Seq(Assign(Var("ast''"),AnnoList(Var("ast"),[Var("def-uri")])),Assign(Var("uses'"),NoAnnoList(ListTail([NoAnnoList(Op("Use",[Var("def-uri")]))],Var("uses"))))),Seq(Assign(Var("ast''"),Var("ast'")),Assign(Var("uses'"),NoAnnoList(ListTail([NoAnnoList(Op("BadUse",[NoAnnoList(List([Var("namespace"),Var("x")]))]))],Var("uses")))))),Seq(Assign(Var("ast''"),Var("ast'")),Assign(Var("uses'"),Var("uses")))))))])),RDefNoArgs("analyze-tree-data",Rule(Var("tree"),Var("data"),Seq(Assign(Var("set"),RootApp(CallNoArgs(SVar("new-iset")))),Seq(BA(Call(SVar("topdown"),[CallT(SVar("analyze-tree-data-part"),[],[Var("set")])]),Var("tree")),Assign(Var("data"),App(CallNoArgs(SVar("iset-elements")),Var("set"))))))),RDefT("analyze-tree-data-part",[],[DefaultVarDec("set")],Rule(Var("tree"),Var("tree"),IfThen(Assign(Var("def-term"),RootApp(CallNoArgs(SVar("nam-get-definition-key")))),Seq(Assign(AnnoList(Wld,[NoAnnoList(ListTail([Var("namespace")],Var("path")))]),Var("def-term")),IfThen(Assign(Var("result"),App(CallT(SVar("adjust-index-def-data"),[CallT(SVar("store-index-data-results"),[],[Var("set")])],[Var("namespace"),Var("path")]),Var("tree"))),BA(CallT(SVar("fatal-err"),[],[NoAnnoList(Str("\"Unexpected result from adjust-index-def-data; should call <store-results>\""))]),Var("result"))))))),RDefT("store-index-data-results",[],[DefaultVarDec("set")],Rule(Var("t"),RootApp(Fail),CondChoice(CallNoArgs(SVar("is-list")),BA(CallT(SVar("iset-addlist"),[],[Var("t")]),Var("set")),BA(CallT(SVar("iset-add"),[],[Var("t")]),Var("set")))))]),Rules([RDef("index-parallel-analyze",[DefaultVarDec("analyze")],Rule(Var("files"),Var("allResults"),[WithClause(Seq(Call(SVar("map"),[CallNoArgs(SVar("index-parse-file"))]),Seq(Call(SVar("map"),[LRule(RuleNoCond(NoAnnoList(Tuple([Var("ast"),Var("file")])),NoAnnoList(Tuple([Var("ast"),Var("file"),RootApp(CallNoArgs(SVar("project-path")))]))))]),Seq(Call(SVar("parallel-unordered"),[All(Call(SVar("index-analyze"),[CallNoArgs(SVar("analyze"))]))]),Seq(Match(Var("results")),Seq(CallT(SVar("with"),[BA(CallNoArgs(SVar("eq")),NoAnnoList(Tuple([App(CallNoArgs(SVar("length")),Var("results")),App(CallNoArgs(SVar("length")),Var("files"))])))],[NoAnnoList(Str("\"Input size not equal to output size\""))]),Seq(Assign(Var("filesToAnalyze"),App(CallNoArgs(SVar("make-set")),App(Call(SVar("mapconcat"),[Match(NoAnnoList(Op("ParallelResults",[Wld,Wld,Wld,Wld,Wld,RootApp(Id)])))]),Var("results")))),CondChoice(Not(Assign(NoAnnoList(List([])),Var("filesToAnalyze"))),Assign(Var("allResults"),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("results"),App(Call(SVar("index-parallel-analyze"),[CallNoArgs(SVar("analyze"))]),Var("filesToAnalyze"))])))),Assign(Var("allResults"),Var("results"))))))))))])),RDefNoArgs("index-parse-file",Rule(Var("file"),NoAnnoList(Tuple([Var("ast'"),Var("file")])),[WithClause(CondChoice(BA(CallNoArgs(SVar("file-exists")),Var("file")),CondChoice(Assign(Var("ast"),App(CallNoArgs(SVar("parse-file")),Var("file"))),Assign(Var("ast'"),Var("ast")),Assign(Var("ast'"),NoAnnoList(Tuple([])))),Assign(Var("ast'"),NoAnnoList(Tuple([])))))])),RDefNoArgs("index-set-markers",Rule(NoAnnoList(Op("ParallelResults",[Var("ast"),Var("ast'"),Var("errors"),Var("warnings"),Var("notes"),Var("diffs")])),RootApp(Id),[WithClause(BA(CallT(SVar("set-markers"),[],[Var("ast")]),NoAnnoList(Tuple([Var("ast'"),Var("errors"),Var("warnings"),Var("notes")]))))])),RDef("index-analyze",[DefaultVarDec("analyze")],Rule(NoAnnoList(Tuple([Var("ast"),Var("path"),Var("project-path")])),NoAnnoList(Op("ParallelResults",[Var("ast"),Var("ast'"),Var("errors"),Var("warnings"),Var("notes"),Var("filesToAnalyze")])),[WithClause(Seq(Assign(NoAnnoList(Tuple([Var("ast'"),Var("errors"),Var("warnings"),Var("notes"),Var("filesToAnalyze")])),RootApp(CallNoArgs(SVar("analyze")))),IfThen(Assign(NoAnnoList(List([])),Var("filesToAnalyze")),CallNoArgs(SVar("complete-work-unit")))))]))]),Rules([SDefNoArgs("index-split",Fail),SDefNoArgs("index-is-toplevel",Fail),SDefNoArgs("index-is-qualifier",Fail),SDefNoArgs("index-qualifier-subelements",Fail),SDefT("index-create-qualifier",[],[DefaultVarDec("qualifier")],Fail),RDefNoArgs("index-toplevel-split",Rule(Var("ast"),Var("asts'"),[WithClause(Seq(Assign(NoAnnoList(Tuple([Var("ast'"),Wld])),App(CallNoArgs(SVar("analyze-defs")),Var("ast"))),Seq(Assign(Var("asts"),App(CallNoArgs(SVar("index-toplevel-split-internal")),Var("ast'"))),Assign(Var("asts'"),App(CallNoArgs(SVar("strip-annos")),Var("asts"))))))])),RDefNoArgs("index-toplevel-split-internal",Rule(Var("node"),Var("units"),[WithClause(SwitchChoice(Id,[SwitchCase(Match(NoAnnoList(Tuple([]))),Assign(Var("units"),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Tuple([])),NoAnnoList(List([]))]))])))),SwitchCase(CallNoArgs(SVar("index-is-qualifier")),Seq(Assign(Var("elems"),App(Call(SVar("mapconcat"),[CallNoArgs(SVar("index-toplevel-split-internal"))]),App(CallNoArgs(SVar("index-qualifier-subelements")),Var("node")))),Assign(Var("units"),App(Call(SVar("map"),[CallT(SVar("index-transform-qualifier"),[],[Var("node")])]),Var("elems"))))),SwitchCase(CallNoArgs(SVar("index-is-toplevel")),Assign(Var("units"),NoAnnoList(List([NoAnnoList(Tuple([Var("node"),App(CallNoArgs(SVar("index-uri")),App(CallNoArgs(SVar("nam-get-definition-key")),Var("node")))]))]))))],Assign(Var("units"),NoAnnoList(List([NoAnnoList(Tuple([Var("node"),NoAnnoList(List([]))]))])))))])),RDefT("index-transform-qualifier",[],[DefaultVarDec("node")],Rule(NoAnnoList(Tuple([Var("elem"),Var("subfileName")])),NoAnnoList(Tuple([Var("qualifier"),Var("subfileName")])),[WithClause(Assign(Var("qualifier"),App(CallT(SVar("index-create-qualifier"),[],[Var("node")]),Var("elem"))))]))]),Rules([RDefNoArgs("analyze-diff",Rule(NoAnnoList(Tuple([Var("defs1"),Var("defs2")])),NoAnnoList(Tuple([Var("added"),Var("removed")])),[WithClause(Seq(Assign(Var("added"),App(Call(SVar("diff"),[CallNoArgs(SVar("index-diff-compare"))]),NoAnnoList(Tuple([Var("defs2"),Var("defs1")])))),Assign(Var("removed"),App(Call(SVar("diff"),[CallNoArgs(SVar("index-diff-compare"))]),NoAnnoList(Tuple([Var("defs1"),Var("defs2")]))))))])),RDefT("analyze-store-diff",[],[DefaultVarDec("changedEntries"),DefaultVarDec("revision")],Rule(Var("astFilePairs"),Var("analyzeFiles'"),[WithClause(Seq(Assign(Var("changedFiles"),App(Call(SVar("mapconcat"),[CallNoArgs(SVar("index-get-files-of"))]),Var("changedEntries"))),Seq(Assign(Var("dependentFiles"),App(CallNoArgs(SVar("index-get-dependent-files")),Var("changedEntries"))),Seq(Assign(Var("analyzeFiles"),App(CallNoArgs(SVar("make-set")),App(Call(SVar("remove-all"),[CallNoArgs(SVar("fake-file"))]),Var("dependentFiles")))),Seq(Assign(Var("analyzeFiles'"),Var("analyzeFiles")),Seq(Assign(Var("changedAstFiles"),App(Call(SVar("filter"),[CallNoArgs(SVar("analyze-astdiff"))]),Var("astFilePairs"))),Seq(Assign(Var("compileFiles"),App(CallNoArgs(SVar("make-set")),App(CallNoArgs(SVar("concat")),NoAnnoList(List([Var("analyzeFiles'"),Var("changedFiles"),Var("changedAstFiles")]))))),BA(Call(SVar("map"),[CallNoArgs(SVar("analyze-add-compilediff"))]),Var("compileFiles")))))))))])),RDefNoArgs("analyze-astdiff",Rule(NoAnnoList(Tuple([Var("ast"),Var("file")])),Var("file"),Seq(Assign(Var("name"),App(CallNoArgs(SVar("conc")),NoAnnoList(Tuple([App(CallNoArgs(SVar("index-file-to-uri")),Var("file")),NoAnnoList(List([NoAnnoList(Str("\"ast-checksum\""))]))])))),Seq(Assign(Var("newChecksum"),App(CallNoArgs(SVar("checksum")),Var("ast"))),CondChoice(Assign(Var("oldChecksum"),RootApp(CallT(SVar("index-get-global"),[],[Var("name")]))),Seq(BA(CallT(SVar("index-set-global"),[],[Var("name")]),Var("newChecksum")),Not(BA(CallNoArgs(SVar("eq")),NoAnnoList(Tuple([Var("oldChecksum"),Var("newChecksum")]))))),BA(CallT(SVar("index-set-global"),[],[Var("name")]),Var("newChecksum"))))))),SDefNoArgs("analyze-add-compilediff",CallT(SVar("index-add-global"),[],[NoAnnoList(Str("\"compile-diff\""))])),SDefNoArgs("analyze-get-compilediffs",Seq(CallT(SVar("index-get-all-globals"),[],[NoAnnoList(Str("\"compile-diff\""))]),CallT(SVar("index-clear-global"),[],[NoAnnoList(Str("\"compile-diff\""))])))]),Rules([RDefT("index-lookup-internal",[DefaultVarDec("adjust-import"),DefaultVarDec("adjust-lookup"),DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],Rule(Var("x"),Var("definition"),Seq(Assign(Var("defs"),App(CallT(SVar("index-lookup-all-scoped-internal"),[CallNoArgs(SVar("adjust-import")),CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")]),Var("x"))),Seq(IfThen(Assign(NoAnnoList(Op("StopLookup",[])),Var("defs")),Fail),IfThen(Not(Assign(Var("definition"),App(CallNoArgs(SVar("Hd")),Var("defs")))),Seq(Assign(NoAnnoList(ListTail([Wld],Var("path'"))),Var("path")),Assign(Var("definition"),App(CallT(SVar("index-lookup-internal"),[CallNoArgs(SVar("adjust-import")),CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path'"),Var("prefix")]),Var("x"))))))))),SDefT("index-lookup-internal",[DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],CallT(SVar("index-lookup-internal"),[Id,Id,CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")])),RDefT("index-lookup-all-internal",[DefaultVarDec("adjust-import"),DefaultVarDec("adjust-lookup"),DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],Rule(Var("x"),Var("defs'"),Seq(Assign(Var("defs"),App(CallT(SVar("index-lookup-all-scoped-internal"),[CallNoArgs(SVar("adjust-import")),CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")]),Var("x"))),CondChoice(Assign(NoAnnoList(ListTail([Wld],Var("path'"))),Var("path")),Seq(Assign(Var("defs2"),App(CallT(SVar("index-lookup-all-internal"),[CallNoArgs(SVar("adjust-import")),CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path'"),Var("prefix")]),Var("x"))),Assign(Var("defs'"),App(CallNoArgs(SVar("conc")),NoAnnoList(Tuple([Var("defs"),Var("defs2")]))))),Assign(Var("defs'"),Var("defs")))))),SDefT("index-lookup-all-internal",[DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],CallT(SVar("index-lookup-all-internal"),[Id,Id,CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")])),RDefT("index-lookup-all-scoped-internal",[DefaultVarDec("adjust-import"),DefaultVarDec("adjust-lookup"),DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],Rule(Var("x"),Var("defs"),[WithClause(LChoice(Seq(CallNoArgs(SVar("adjust-lookup")),Seq(Assign(Var("adjusted"),App(CallT(SVar("index-do-adjust-lookup"),[],[Var("namespace"),Var("path"),Var("x"),Var("prefix")]),Var("x"))),Assign(Var("defs"),App(CallT(SVar("index-get-adjust-lookup-results"),[CallNoArgs(SVar("adjust-import")),CallNoArgs(SVar("name-compare"))],[Var("adjusted"),Var("prefix")]),Var("x"))))),LChoice(Seq(CallNoArgs(SVar("adjust-import")),Seq(Assign(Var("adjusted"),App(CallT(SVar("index-do-adjust-import"),[],[Var("namespace"),Var("path")]),Var("x"))),Assign(Var("defs"),App(CallT(SVar("index-get-adjust-import-results"),[CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("adjusted"),Var("prefix")]),Var("x"))))),Assign(Var("defs"),App(CallT(SVar("index-get-children"),[LRule(RuleNoCond(Var("uri"),NoAnnoList(Op("Def",[Var("uri")])))),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("prefix")]),NoAnnoList(ListTail([Var("namespace")],Var("path"))))))))])),SDefT("index-lookup-all-scoped-internal",[DefaultVarDec("name-compare")],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],CallT(SVar("index-lookup-all-scoped-internal"),[Id,Id,CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")])),SDefT("index-do-adjust-import",[],[DefaultVarDec("namespace"),DefaultVarDec("path")],CallT(SVar("adjust-index-import"),[],[Var("namespace"),Var("path")])),RDefT("index-get-adjust-import-results",[DefaultVarDec("adjust-lookup"),DefaultVarDec("name-compare")],[DefaultVarDec("adjusted"),DefaultVarDec("prefix")],Rule(Var("x"),Var("defs'"),[WithClause(Seq(Assign(Var("defs"),App(Call(SVar("mapconcat"),[LChoice(CallT(SVar("index-adjust-import-recurse"),[CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("x"),Var("prefix")]),CallT(SVar("fatal-err"),[],[NoAnnoList(Str("\"Unexpected result from adjust-index-import, should be a list of [namespace | path].\""))]))]),Var("adjusted"))),CondChoice(Not(BA(CallNoArgs(SVar("elem")),NoAnnoList(Tuple([NoAnnoList(Op("StopLookup",[])),Var("defs")])))),Assign(Var("defs'"),App(Call(SVar("filter"),[CallNoArgs(SVar("name-compare"))]),Var("defs"))),Assign(Var("defs'"),NoAnnoList(Op("StopLookup",[]))))))])),RDefT("index-adjust-import-recurse",[DefaultVarDec("adjust-lookup"),DefaultVarDec("name-compare")],[DefaultVarDec("x"),DefaultVarDec("prefix")],Rule(NoAnnoList(ListTail([Var("namespace")],Var("path"))),Var("results'"),[WithClause(Seq(Assign(Var("results"),App(CallT(SVar("index-lookup-all-scoped-internal"),[Fail,CallNoArgs(SVar("adjust-lookup")),CallNoArgs(SVar("name-compare"))],[Var("namespace"),Var("path"),Var("prefix")]),Var("x"))),CondChoice(Not(BA(CallNoArgs(SVar("is-list")),Var("results"))),Assign(Var("results'"),NoAnnoList(List([Var("results")]))),Assign(Var("results'"),Var("results")))))])),SDefT("index-do-adjust-lookup",[],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("use"),DefaultVarDec("prefix")],Call(SVar("repeat-until"),[Prim("\"SSL_EXT_get_parent\"",[RootApp(Id)]),CallT(SVar("adjust-index-lookup"),[CallT(SVar("origin-equal"),[],[Var("use")])],[Var("namespace"),Var("path"),Var("prefix")])])),RDefT("index-get-adjust-lookup-results",[DefaultVarDec("adjust-import"),DefaultVarDec("name-compare")],[DefaultVarDec("adjusted"),DefaultVarDec("prefix")],Rule(Var("x"),Var("defs'"),[WithClause(CondChoice(Assign(NoAnnoList(Op("StopLookup",[])),Var("adjusted")),Assign(Var("defs'"),NoAnnoList(Op("StopLookup",[]))),Seq(Assign(Var("defs"),App(Call(SVar("mapconcat"),[LChoice(LRule(RuleNoCond(As(Var("d"),NoAnnoList(Op("Def",[Var("p")]))),NoAnnoList(List([Var("d")])))),LChoice(LRule(RuleNoCond(NoAnnoList(ListTail([Var("namespace'")],Var("path'"))),App(CallT(SVar("index-lookup-all-scoped-internal"),[CallNoArgs(SVar("adjust-import")),Fail,CallNoArgs(SVar("name-compare"))],[Var("namespace'"),Var("path'"),Var("prefix")]),Var("x")))),CallT(SVar("fatal-err"),[],[NoAnnoList(Str("\"Unexpected result from adjust-index-lookup, should be a list of Def(uri) or [namespace | path], or StopLookup() to stop the lookup.\""))])))]),Var("adjusted"))),Assign(Var("defs'"),App(Call(SVar("filter"),[CallNoArgs(SVar("name-compare"))]),Var("defs"))))))]))]),Rules([RDefT("index-compare-name-equal",[],[DefaultVarDec("name")],Rule(Var("element"),RootApp(Id),Seq(Assign(Var("uri"),App(CallNoArgs(SVar("index-uri")),Var("element"))),BA(CallT(SVar("SRTS-EXT-eq-ignore-annos"),[],[Var("name")]),App(CallNoArgs(SVar("index-uri-name")),Var("uri")))))),RDefT("index-compare-name-substring",[],[DefaultVarDec("prefix")],Rule(Var("element"),RootApp(Id),Seq(Assign(Var("uri"),App(CallNoArgs(SVar("index-uri")),Var("element"))),BA(Call(SVar("is-substring"),[Build(Var("prefix"))]),App(CallNoArgs(SVar("index-uri-name")),Var("uri")))))),RDefT("index-compare-name-substring",[],[DefaultVarDec("prefix"),DefaultVarDec("namespace")],Rule(Var("element"),RootApp(Id),Seq(Assign(Var("uri"),App(CallNoArgs(SVar("index-uri")),Var("element"))),Seq(BA(CallNoArgs(SVar("eq")),NoAnnoList(Tuple([Var("namespace"),App(CallNoArgs(SVar("index-uri-namespace")),Var("uri"))]))),BA(Call(SVar("is-substring"),[Build(Var("prefix"))]),App(CallNoArgs(SVar("index-uri-name")),Var("uri")))))))]),Rules([RDefNoArgs("index-uri-impl",RuleNoCond(NoAnnoList(Op("Def",[Var("uri")])),Var("uri"))),RDefNoArgs("index-uri-impl",RuleNoCond(NoAnnoList(Op("Use",[Var("uri")])),Var("uri"))),RDefNoArgs("index-uri-impl",RuleNoCond(NoAnnoList(Op("Read",[Var("uri")])),Var("uri"))),RDefNoArgs("index-uri-impl",RuleNoCond(AnnoList(Var("x"),[NoAnnoList(ListTail([Var("namespace")],Var("path")))]),NoAnnoList(ListTail([App(CallNoArgs(SVar("index-namespace-unwrap")),Var("namespace"))],Var("path"))))),RDefNoArgs("index-uri-impl",RuleNoCond(NoAnnoList(Op("ReadWildcard",[Var("uri"),Wld])),Var("uri"))),RDefNoArgs("index-value-impl",RuleNoCond(NoAnnoList(Op("Def",[Var("value")])),Var("value"))),RDefNoArgs("index-value-impl",RuleNoCond(NoAnnoList(Op("Use",[Var("value")])),Var("value"))),RDefNoArgs("index-value-impl",RuleNoCond(NoAnnoList(Op("Read",[Var("value")])),Var("value"))),RDefNoArgs("index-value-impl",RuleNoCond(NoAnnoList(Op("ReadWildcard",[Wld,Var("value")])),Var("value")))]),Rules([RDefNoArgs("unzip-analyzed",Rule(Var("appl"),NoAnnoList(Tuple([Var("appl'"),Var("unzipped-parts")])),[WithClause(Seq(Assign(Var("appl'"),App(All(LRule(RuleNoCond(NoAnnoList(Tuple([Var("a"),Wld])),Var("a")))),Var("appl"))),Assign(Var("unzipped-parts"),App(CallNoArgs(SVar("concat")),App(LChoice(Call(SVar("get-appl-arguments"),[LRule(RuleNoCond(NoAnnoList(Tuple([Wld,Var("b")])),Var("b")))]),LChoice(Call(SVar("map"),[LRule(RuleNoCond(NoAnnoList(Tuple([Wld,Var("b")])),Var("b")))]),Build(NoAnnoList(List([]))))),Var("appl"))))))])),SDefNoArgs("is-test-file",CallT(SVar("string-ends-with"),[],[NoAnnoList(Str("\".spt\""))])),SDefNoArgs("is-test-language",Match(NoAnnoList(Str("\"Spoofax-Testing\"")))),SDefT("is-test-input",[],[DefaultVarDec("language"),DefaultVarDec("path")],LChoice(BA(CallNoArgs(SVar("is-test-language")),Var("language")),BA(CallNoArgs(SVar("is-test-file")),Var("path")))),SDefNoArgs("fake-file",LChoice(CallNoArgs(SVar("is-test-file")),CallNoArgs(SVar("index-is-fake-file")))),RDefT("ast-uri-to-ast-file",[],[DefaultVarDec("full-path")],RuleNoCond(NoAnnoList(Tuple([Var("ast"),Var("uri")])),NoAnnoList(Tuple([Var("ast"),NoAnnoList(Tuple([Var("full-path"),Var("uri")]))])))),RDefT("index-readwildcard-substring",[],[DefaultVarDec("prefix")],Rule(NoAnnoList(Op("ReadWildcard",[Wld,Var("name")])),RootApp(Id),BA(Call(SVar("is-substring"),[Build(Var("prefix"))]),Var("name")))),RDefT("store-wildcard-read",[],[DefaultVarDec("namespace"),DefaultVarDec("path"),DefaultVarDec("prefix")],Rule(Var("children"),RootApp(Id),[WithClause(IfThen(Assign(Var("set"),RootApp(CallNoArgs(SVar("Index-ReadSet")))),CondChoice(Assign(NoAnnoList(Int("1")),App(CallNoArgs(SVar("length")),Var("children"))),BA(CallT(SVar("iset-add"),[],[NoAnnoList(Op("Read",[NoAnnoList(ListTail([Var("namespace"),Var("prefix")],Var("path")))]))]),Var("set")),BA(CallT(SVar("iset-add"),[],[NoAnnoList(Op("ReadWildcard",[NoAnnoList(ListTail([Var("namespace")],Var("path"))),Var("prefix")]))]),Var("set")))))])),SDefT("index-is-unresolved",[],[DefaultVarDec("x"),DefaultVarDec("uri")],Seq(CallNoArgs(SVar("Index-UnresolvedSet")),LChoice(CallT(SVar("iset-contains"),[],[NoAnnoList(Tuple([Var("x"),Var("uri")]))]),Fail))),SDefT("index-add-unresolved",[],[DefaultVarDec("x"),DefaultVarDec("uri")],LChoice(Seq(CallNoArgs(SVar("Index-UnresolvedSet")),CallT(SVar("iset-add"),[],[NoAnnoList(Tuple([Var("x"),Var("uri")]))])),Id)),RDefNoArgs("index-file-dependent-construct",Rule(Var("uri"),App(CallNoArgs(SVar("conc")),NoAnnoList(Tuple([Var("uses"),Var("reads")]))),[WithClause(Seq(Assign(Var("uses"),App(CallNoArgs(SVar("index-get-uses-all")),NoAnnoList(Op("Def",[Var("uri")])))),Assign(Var("reads"),App(CallNoArgs(SVar("index-get-reads-all")),NoAnnoList(Op("Def",[Var("uri")]))))))])),SDefNoArgs("index-file-dependency-filter",LChoice(Match(NoAnnoList(Op("Read",[Wld]))),LChoice(Match(NoAnnoList(Op("ReadWildcard",[Wld,Wld]))),Match(NoAnnoList(Op("Use",[Wld])))))),SDefT("index-eq",[],[DefaultVarDec("namespace"),DefaultVarDec("expected")],Where(Seq(Match(NoAnnoList(Op("Def",[NoAnnoList(ListTail([Wld,Var("name")],Wld))]))),BA(CallT(SVar("SRTS-EXT-eq-ignore-annos"),[],[Var("expected")]),Var("name"))))),ExtSDef("SRTS-EXT-eq-ignore-annos",[],[DefaultVarDec("t")]),SDefNoArgs("index-key-unwrap",LChoice(LRule(RuleNoCond(AnnoList(Var("key"),[Var("uri")]),AnnoList(Var("key"),[App(CallNoArgs(SVar("index-uri-unwrap")),Var("uri"))]))),Id))]),Rules([RDefT("nam-get-def",[],[DefaultVarDec("paths"),DefaultVarDec("namespace")],RuleNoCond(Var(ListVar("part*")),NoAnnoList(Op("Def",[NoAnnoList(ListTail([Var("namespace"),Var(ListVar("part*"))],App(CallNoArgs(SVar("lookup-index-path")),NoAnnoList(Tuple([Var("namespace"),Var("paths")])))))])))),RDefT("nam-annotate-def",[],[DefaultVarDec("path")],Rule(Var("t"),Var("result"),[WithClause(Assign(Var("result"),AnnoList(Var("t"),[Var("path")])))])),RDefT("nam-annotate-use",[],[DefaultVarDec("paths"),DefaultVarDec("namespace")],RuleNoCond(Var("t"),AnnoList(Var("t"),[NoAnnoList(ListTail([NoAnnoList(Op("Unresolved",[Var("namespace")])),Var("t")],App(CallNoArgs(SVar("lookup-index-path")),NoAnnoList(Tuple([Var("namespace"),Var("paths")])))))]))),RDefT("nam-annotate-use",[],[DefaultVarDec("paths"),DefaultVarDec("namespace"),DefaultVarDec("namespace2"),DefaultVarDec("name")],RuleNoCond(Var("t"),AnnoList(Var("t"),[NoAnnoList(ListTail([NoAnnoList(Op("Unresolved",[Var("namespace")])),Var("t")],App(CallNoArgs(SVar("lookup-index-path")),NoAnnoList(Tuple([Var("namespace"),Var("paths")])))))]))),RDefT("nam-annotate-scope",[],[DefaultVarDec("path")],RuleNoCond(Var("t"),AnnoList(Var("t"),[NoAnnoList(Op("Scope",[Var("path")]))]))),SDefNoArgs("nam-get-scope-types",Fail),SDefNoArgs("nam-ordered-def",Fail),SDefNoArgs("nam-get-definitions",Fail),SDefNoArgs("nam-get-definition",Seq(CallNoArgs(SVar("nam-get-definitions")),CallNoArgs(SVar("Hd")))),SDefNoArgs("nam-get-definition-keys",Fail),SDefNoArgs("nam-get-definition-key",Seq(CallNoArgs(SVar("nam-get-definition-keys")),CallNoArgs(SVar("Hd")))),SDefNoArgs("nam-get-uses",Fail),SDefNoArgs("nam-get-use",Seq(CallNoArgs(SVar("nam-get-uses")),CallNoArgs(SVar("Hd")))),SDefNoArgs("nam-get-uses-keys",Fail),SDefNoArgs("nam-get-use-key",Seq(CallNoArgs(SVar("nam-get-uses-keys")),CallNoArgs(SVar("Hd")))),SDefT("nam-annotate-names",[],[DefaultVarDec("paths"),DefaultVarDec("def-path")],Fail),SDefT("nam-annotate-scopes",[],[DefaultVarDec("def-path")],Fail),SDefNoArgs("nam-unique",Fail)])])