Module("names",[Imports([Import("lib/analysis-library.generated"),Import("lib/analysis-library-internal.generated"),Import("lib/index-library.generated")]),Imports([Import("include/Enfun")]),Signature([Constructors([OpDecl("Type",ConstType(SortNoArgs("DefDataKind"))),OpDecl("Import",ConstType(SortNoArgs("DefDataKind"))),OpDecl("Transitive",ConstType(SortNoArgs("ImportAnno"))),OpDecl("CurrentFile",ConstType(SortNoArgs("ImportAnno")))]),Constructors([OpDecl("Module",ConstType(SortNoArgs("Namespace"))),OpDecl("Type",ConstType(SortNoArgs("Namespace"))),OpDecl("Property",ConstType(SortNoArgs("Namespace"))),OpDecl("Function",ConstType(SortNoArgs("Namespace"))),OpDecl("Variable",ConstType(SortNoArgs("Namespace")))])]),Rules([RDefNoArgs("nam-get-scope-types",RuleNoCond(NoAnnoList(Op("Module",[Var("m"),Wld])),NoAnnoList(List([NoAnnoList(Op("Type",[]))])))),RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("Module",[Var("m"),Wld])),NoAnnoList(List([Var("m")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("Module",[Var("m"),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Module",[])),NoAnnoList(List([Var("m")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Module",[Var("m"),Wld])),RootApp(Call(SVar("Module"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id])))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("Module",[Var("m"),Wld])),RootApp(Id)))]),Rules([RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Imports",[Var("m")])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([NoAnnoList(Op("Type",[]))],Var("path__"))),NoAnnoList(Op("Import",[])),NoAnnoList(Tuple([Var("m"),NoAnnoList(List([NoAnnoList(Op("Transitive",[]))]))]))])))))]),Rules([RDefNoArgs("nam-get-scope-types",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([NoAnnoList(Op("Property",[])),NoAnnoList(Op("Function",[])),NoAnnoList(Op("Type",[])),NoAnnoList(Op("Variable",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-definition-keys",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([Var("c")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-definitions",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("c")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),RootApp(Call(SVar("Entity"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("None"),[]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Op("Type",[Var("c"),Var(ListVar("t*"))]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("type-of",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(Op("Type",[Var("c"),Var(ListVar("t*"))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-unique",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("None",[])),Wld])),RootApp(Id),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params")))))]),Rules([RDefNoArgs("nam-get-scope-types",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(List([NoAnnoList(Op("Property",[])),NoAnnoList(Op("Function",[])),NoAnnoList(Op("Type",[])),NoAnnoList(Op("Variable",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-definition-keys",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(List([Var("c")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-definitions",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("c")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-uses-keys",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(List([Var("c'")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-get-uses",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("c'")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),RootApp(Call(SVar("Entity"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("Some"),[Call(SVar("Extends"),[CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Type",[]))])])]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Op("Type",[Var("c"),Var(ListVar("t*"))]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("type-of",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),NoAnnoList(Op("Type",[Var("c"),Var(ListVar("t*"))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefNoArgs("nam-unique",Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),RootApp(Id),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([NoAnnoList(Op("Property",[]))],Var("path__"))),NoAnnoList(Op("Import",[])),NoAnnoList(Tuple([Var("c'"),NoAnnoList(List([NoAnnoList(Op("Transitive",[]))]))]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params"))))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("Entity",[Var("c"),Var("params"),NoAnnoList(Op("Some",[NoAnnoList(Op("Extends",[Var("c'")]))])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([NoAnnoList(Op("Function",[]))],Var("path__"))),NoAnnoList(Op("Import",[])),NoAnnoList(Tuple([Var("c'"),NoAnnoList(List([NoAnnoList(Op("Transitive",[]))]))]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var("params")))))]),Rules([RDefNoArgs("nam-get-uses-keys",RuleNoCond(NoAnnoList(Op("Type",[Var("x"),Wld])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-uses",RuleNoCond(NoAnnoList(Op("Type",[Var("x"),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("x")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Type",[Var("x"),Wld])),RootApp(Call(SVar("Type"),[CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Type",[]))]),Id]))))]),Rules([RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("x")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),RootApp(Call(SVar("TypeParam"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")])])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Op("Type",[Var("x"),NoAnnoList(List([]))]))]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),NoAnnoList(Op("Type",[Var("x"),NoAnnoList(List([]))])))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("TypeParam",[Var("x")])),RootApp(Id)))]),Rules([RDefNoArgs("nam-get-uses-keys",RuleNoCond(NoAnnoList(Op("New",[NoAnnoList(Op("Type",[Var("ent")]))])),NoAnnoList(List([Var("ent")])))),RDefNoArgs("nam-get-uses",RuleNoCond(NoAnnoList(Op("New",[NoAnnoList(Op("Type",[Var("ent")]))])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Type",[])),NoAnnoList(List([Var("ent")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("New",[NoAnnoList(Op("Type",[Var("ent")]))])),RootApp(Call(SVar("New"),[Call(SVar("Type"),[CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Type",[]))])])]))))]),Rules([RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),NoAnnoList(List([Var("p")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Property",[])),NoAnnoList(List([Var("p")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),RootApp(Call(SVar("Property"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),Var("t")]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),Var("t"))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("Property",[Var("p"),Var("t"),Wld])),RootApp(Id)))]),Rules([RDefNoArgs("nam-get-uses-keys",Rule(NoAnnoList(Op("PropAccess",[Var("e"),Var("p")])),NoAnnoList(List([Var("p")])),Assign(NoAnnoList(Op("Type",[Var("ent"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))),RDefNoArgs("nam-get-uses",Rule(NoAnnoList(Op("PropAccess",[Var("e"),Var("p")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Property",[])),NoAnnoList(List([Var("p")]))]))])),Assign(NoAnnoList(Op("Type",[Var("ent"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("PropAccess",[Var("e"),Var("p")])),RootApp(Call(SVar("PropAccess"),[Id,CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Property",[]))])])))),RDefT("adjust-index-lookup",[DefaultVarDec("target__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__"),DefaultVarDec("prefix__")],Rule(NoAnnoList(Op("PropAccess",[Var("e"),Var("p")])),App(CallT(SVar("index-lookup-children"),[],[NoAnnoList(Op("Property",[])),Var("prefix__")]),Var("ent")),[WhereClause(BA(CallNoArgs(SVar("target__")),Var("p"))),WhereClause(Assign(NoAnnoList(Op("Type",[Var("ent"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))]))]),Rules([RDefNoArgs("nam-get-scope-types",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),NoAnnoList(List([NoAnnoList(Op("Variable",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definition-keys",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),NoAnnoList(List([Var("f")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definitions",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),RootApp(Call(SVar("FunDecl"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("None"),[])])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Tuple([Var(ListVar("t*")),NoAnnoList(Op("TypeVoid",[]))]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("type-of",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),NoAnnoList(Tuple([Var(ListVar("t*")),NoAnnoList(Op("TypeVoid",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-unique",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[]))])),RootApp(Id),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*"))))))]),Rules([RDefNoArgs("nam-get-scope-types",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),NoAnnoList(List([NoAnnoList(Op("Variable",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definition-keys",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),NoAnnoList(List([Var("f")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definitions",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),RootApp(Call(SVar("FunDecl"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("Some"),[Id])])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Tuple([Var(ListVar("t*")),Var("t")]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("type-of",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),NoAnnoList(Tuple([Var(ListVar("t*")),Var("t")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-unique",Rule(NoAnnoList(Op("FunDecl",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")]))])),RootApp(Id),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*"))))))]),Rules([RDefNoArgs("nam-get-scope-types",RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([NoAnnoList(Op("Variable",[]))])))),RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([Var("f")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),RootApp(Call(SVar("FunDef"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("None"),[]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),Var("TypeVoid")]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),Var("TypeVoid"))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("None",[])),Wld])),RootApp(Id)))]),Rules([RDefNoArgs("nam-get-scope-types",Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),NoAnnoList(List([NoAnnoList(Op("Variable",[]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definition-keys",Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),NoAnnoList(List([Var("f")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-get-definitions",Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),RootApp(Call(SVar("FunDef"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Call(SVar("Some"),[Id]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),NoAnnoList(Tuple([Var(ListVar("t*")),Var("t")]))]))),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("type-of",Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),NoAnnoList(Tuple([Var(ListVar("t*")),Var("t")])),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*")))))),RDefNoArgs("nam-unique",Rule(NoAnnoList(Op("FunDef",[Var("f"),Var(ListVar("arg*")),NoAnnoList(Op("Some",[Var("t")])),Wld])),RootApp(Id),Assign(Var(ListVar("t*")),App(CallNoArgs(SVar("type-of")),Var(ListVar("arg*"))))))]),Rules([RDefNoArgs("nam-get-uses-keys",RuleNoCond(NoAnnoList(Op("ThisCall",[Var("f"),Var(ListVar("e*"))])),NoAnnoList(List([Var("f")])))),RDefNoArgs("nam-get-uses",RuleNoCond(NoAnnoList(Op("ThisCall",[Var("f"),Var(ListVar("e*"))])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("ThisCall",[Var("f"),Var(ListVar("e*"))])),RootApp(Call(SVar("ThisCall"),[CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Function",[]))]),Id]))))]),Rules([RDefNoArgs("nam-get-uses-keys",Rule(NoAnnoList(Op("MethCall",[Var("e"),Var("f"),Var(ListVar("e*"))])),NoAnnoList(List([Var("f")])),Assign(NoAnnoList(Op("Type",[Var("c"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))),RDefNoArgs("nam-get-uses",Rule(NoAnnoList(Op("MethCall",[Var("e"),Var("f"),Var(ListVar("e*"))])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Function",[])),NoAnnoList(List([Var("f")]))]))])),Assign(NoAnnoList(Op("Type",[Var("c"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("MethCall",[Var("e"),Var("f"),Var(ListVar("e*"))])),RootApp(Call(SVar("MethCall"),[Id,CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Function",[]))]),Id])))),RDefT("adjust-index-lookup",[DefaultVarDec("target__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__"),DefaultVarDec("prefix__")],Rule(NoAnnoList(Op("MethCall",[Var("e"),Var("f"),Var(ListVar("e*"))])),App(CallT(SVar("index-lookup-children"),[],[NoAnnoList(Op("Function",[])),Var("prefix__")]),Var("c")),[WhereClause(BA(CallNoArgs(SVar("target__")),Var("f"))),WhereClause(Assign(NoAnnoList(Op("Type",[Var("c"),Wld])),App(CallNoArgs(SVar("type-of")),Var("e"))))]))]),Rules([RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Variable",[])),NoAnnoList(List([Var("x")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),RootApp(Call(SVar("Arg"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),Var("t")]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),Var("t"))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("Arg",[Var("x"),Var("t")])),RootApp(Id)))]),Rules([RDefNoArgs("nam-get-scope-types",RuleNoCond(NoAnnoList(Op("Block",[Wld])),NoAnnoList(List([NoAnnoList(Op("Variable",[]))]))))]),Rules([RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Variable",[])),NoAnnoList(List([Var("x")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),RootApp(Call(SVar("VarDecl"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),Var("t")]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),Var("t"))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("VarDecl",[Var("x"),Var("t")])),RootApp(Id)))]),Rules([RDefNoArgs("nam-ordered-def",RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),RootApp(Id))),RDefNoArgs("nam-get-definition-keys",RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-definitions",RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Variable",[])),NoAnnoList(List([Var("x"),NoAnnoList(Op("Anon",[RootApp(CallNoArgs(SVar("new")))]))]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),RootApp(Call(SVar("VarDeclInit"),[CallT(SVar("nam-annotate-def"),[],[Var("path__")]),Id,Id])))),RDefT("adjust-index-def-data",[DefaultVarDec("store__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),App(CallNoArgs(SVar("store__")),NoAnnoList(Op("DefData",[NoAnnoList(ListTail([Var("namespace__")],Var("path__"))),NoAnnoList(Op("Type",[])),Var("t")]))))),RDefNoArgs("type-of",RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),Var("t"))),RDefNoArgs("nam-unique",RuleNoCond(NoAnnoList(Op("VarDeclInit",[Var("x"),Var("t"),Var("e")])),RootApp(Id)))]),Rules([RDefNoArgs("nam-get-uses-keys",RuleNoCond(NoAnnoList(Op("Var",[Var("x")])),NoAnnoList(List([Var("x")])))),RDefNoArgs("nam-get-uses",RuleNoCond(NoAnnoList(Op("Var",[Var("x")])),NoAnnoList(List([NoAnnoList(Tuple([NoAnnoList(Op("Variable",[])),NoAnnoList(List([Var("x")]))])),NoAnnoList(Tuple([NoAnnoList(Op("Property",[])),NoAnnoList(List([Var("x")]))]))])))),RDefT("nam-annotate-names",[],[DefaultVarDec("paths__"),DefaultVarDec("path__")],RuleNoCond(NoAnnoList(Op("Var",[Var("x")])),RootApp(Call(SVar("Var"),[CallT(SVar("nam-annotate-use"),[],[Var("paths__"),NoAnnoList(Op("Variable",[]))])])))),RDefT("adjust-index-lookup",[DefaultVarDec("target__")],[DefaultVarDec("namespace__"),DefaultVarDec("path__"),DefaultVarDec("prefix__")],Rule(NoAnnoList(Op("Var",[Var("x")])),NoAnnoList(List([NoAnnoList(ListTail([NoAnnoList(Op("Variable",[]))],Var("path__"))),NoAnnoList(ListTail([NoAnnoList(Op("Property",[]))],Var("path__")))])),BA(CallNoArgs(SVar("target__")),Var("x"))))])])